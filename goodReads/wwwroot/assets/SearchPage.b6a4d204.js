import{_ as B,r as S,g as w,w as I,h as c,B as m,H as P,A as a,P as g,S as y,c as i,a as e,W as Q,X as b,Y as D,n as v,q as V,T as A,l as k,m as x,z as h,t as p,o as l,Z as E,p as M,d as T,s as U}from"./index.4ef991fb.js";const j={props:{},setup(d){const s=S({});return w(()=>{}),I(()=>{}),{editable:s,books:c(()=>a.sPBooks.sort(n=>n.averageRating-.5)),categories:c(()=>a.categories),test:c(()=>a.categories[0]),index:c(()=>a.startIndex),endDex:c(()=>a.startIndex),totalItems:c(()=>a.totalItems),async searchByQuery(){try{await m.searchByQuery(s.value.term)}catch(n){P.error(n)}},async searchByCategory(n){try{let t=a.categories.find(r=>r==n);for(const r of a.categories)r.name!=n.name&&(r.checked=!1);s.value.term="",a.categoryQuery=n.name,await m.searchByCategory(a.categoryQuery),a.categories.forEach(function(r,u){r.name==n.name&&(a.categories.splice(u,1),a.categories.unshift(r))})}catch(t){g.error(t,"[searchByCategory]")}},async paginate(n){try{n=="prev"&&(a.startIndex-=24,await m.searchByCategory(a.categoryQuery)),n=="next"&&(a.startIndex+=24,await m.searchByCategory(a.categoryQuery))}catch(t){g.error(t,"[paginate]")}}}},components:{BookCard:y,SearchPageBookCard:y,SearchPageBookCard:y}},_=d=>(M("data-v-ddc0c478"),d=d(),T(),d),N={class:"container mt-3"},z={class:"row justify-content-center sticky-top animate__animated animate__fadeInDown"},L={class:"col-md-6"},q={class:"input-group my-3 rounded-5 elevation-5 sticky-top bg-dark p-1 searchContainer"},F=_(()=>e("button",{class:"btn d-flex justify-content-center",type:"submit"},[e("i",{class:"mdi mdi-magnify fs-2 text-light"})],-1)),G={class:"row"},H=_(()=>e("div",{class:"col-md-12"},[e("h2",null,"Explore Some Lore")],-1)),O={class:"col-md-3"},R={class:"bg-secondary p-2 elevation-2"},W=_(()=>e("p",{class:"fw-bold fs-4"},"Categories",-1)),X=["onUpdate:modelValue","onChange"],Y={class:"col-md-9"},Z={class:"row gy-3"},J={class:"row"},K={class:"col-md-12 d-flex justify-content-center"},$=["disabled"],ee=_(()=>e("b",null,"Prev",-1)),te=[ee],ae=_(()=>e("b",null,"Next",-1)),oe=[ae],se={class:"col-md-12 text-center mt-3"};function ne(d,s,n,t,r,u){const C=U("SearchPageBookCard");return l(),i("section",N,[e("div",z,[e("div",L,[e("form",{onSubmit:s[1]||(s[1]=Q(o=>t.searchByQuery(),["prevent"]))},[e("div",q,[F,b(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.editable.term=o),type:"text",class:"form-control rounded-5 border-0","aria-label":"Username",placeholder:"Search Books By Title..","aria-describedby":"basic-addon1"},null,512),[[D,t.editable.term]])])],32)])]),e("div",G,[H,e("div",O,[e("div",R,[W,v(A,{name:"",enterActiveClass:"animate__fadeIn animate__animated",leaveActiveClass:"animate__fadeOut animate__animated"},{default:V(()=>[(l(!0),i(k,null,x(t.categories,o=>(l(),i("div",{class:h([o.checked?"bg-create mb-5 p-5":"","mb-3 form-check selectable rounded"]),key:o.name},[b(e("input",{class:h([o.checked?"p-3 ":"","form-check-input"]),"onUpdate:modelValue":f=>o.checked=f,onChange:f=>t.searchByCategory(o),type:"checkbox",id:"exampleCheck1"},null,42,X),[[E,o.checked]]),e("label",{class:h([o.checked?"fw-bolder fs-4 ms-2":"","form-check-label"]),for:"exampleCheck1"},p(o.name),3)],2))),128))]),_:1})])]),e("div",Y,[e("div",Z,[(l(!0),i(k,null,x(t.books,o=>(l(),i("div",{class:"col-md-3",key:o.id},[v(C,{book:o},null,8,["book"])]))),128))]),e("div",J,[e("div",K,[e("button",{class:h([t.index<=0?"disabled":"","btn btn-outline-dark me-2"]),disabled:t.index<=0,onClick:s[2]||(s[2]=o=>t.paginate("prev"))},te,10,$),e("button",{class:"btn btn-outline-dark",onClick:s[3]||(s[3]=o=>t.paginate("next"))},oe)]),e("div",se,[e("b",null,p(t.index)+" - "+p(t.endDex+24)+" of "+p(t.totalItems)+" results ",1)])])])])])}const ce=B(j,[["render",ne],["__scopeId","data-v-ddc0c478"]]);export{ce as default};
