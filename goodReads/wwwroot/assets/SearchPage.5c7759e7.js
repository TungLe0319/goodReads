import{_ as B,r as S,g as w,w as I,h as c,G as m,J as P,A as a,P as g,S as p,c as i,a as e,U as Q,V as b,W as D,n as v,q as V,T as U,l as k,m as x,D as h,t as f,o as l,X as A,p as E,d as M,s as T}from"./index.b744b949.js";const j={props:{},setup(d){const s=S({});return w(()=>{}),I(()=>{}),{editable:s,books:c(()=>a.sPBooks.sort(n=>n.averageRating-.5)),categories:c(()=>a.categories),test:c(()=>a.categories[0]),index:c(()=>a.startIndex),endDex:c(()=>a.startIndex),totalItems:c(()=>a.totalItems),async searchByQuery(){try{await m.searchByQuery(s.value.term)}catch(n){P.error(n)}},async searchByCategory(n){try{let t=a.categories.find(r=>r==n);console.log(t);for(const r of a.categories)r.name!=n.name&&(r.checked=!1);s.value.term="",a.categoryQuery=n.name,await m.searchByCategory(a.categoryQuery),a.categories.forEach(function(r,y){r.name==n.name&&(a.categories.splice(y,1),a.categories.unshift(r))})}catch(t){g.error(t,"[searchByCategory]")}},async paginate(n){try{n=="prev"&&(a.startIndex-=24,await m.searchByCategory(a.categoryQuery)),n=="next"&&(a.startIndex+=24,await m.searchByCategory(a.categoryQuery))}catch(t){g.error(t,"[paginate]")}}}},components:{BookCard:p,SearchPageBookCard:p,SearchPageBookCard:p}},_=d=>(E("data-v-d01febf1"),d=d(),M(),d),N={class:"container mt-3"},G={class:"row justify-content-center sticky-top animate__animated animate__fadeInDown"},L={class:"col-md-6"},q={class:"input-group my-3 rounded-5 elevation-5 sticky-top bg-dark p-1 searchContainer"},z=_(()=>e("button",{class:"btn d-flex justify-content-center",type:"submit"},[e("i",{class:"mdi mdi-magnify fs-2 text-light"})],-1)),F={class:"row"},J=_(()=>e("div",{class:"col-md-12"},[e("h2",null,"Explore Some Lore")],-1)),O={class:"col-md-3"},R={class:"bg-secondary p-2 elevation-2"},W=_(()=>e("p",{class:"fw-bold fs-4"},"Categories",-1)),X=["onUpdate:modelValue","onChange"],H={class:"col-md-9"},K={class:"row gy-3"},Y={class:"row"},Z={class:"col-md-12 d-flex justify-content-center"},$=["disabled"],ee=_(()=>e("b",null,"Prev",-1)),te=[ee],ae=_(()=>e("b",null,"Next",-1)),oe=[ae],se={class:"col-md-12 text-center mt-3"};function ne(d,s,n,t,r,y){const C=T("SearchPageBookCard");return l(),i("section",N,[e("div",G,[e("div",L,[e("form",{onSubmit:s[1]||(s[1]=Q(o=>t.searchByQuery(),["prevent"]))},[e("div",q,[z,b(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.editable.term=o),type:"text",class:"form-control rounded-5 border-0","aria-label":"Username",placeholder:"Search Books By Title..","aria-describedby":"basic-addon1"},null,512),[[D,t.editable.term]])])],32)])]),e("div",F,[J,e("div",O,[e("div",R,[W,v(U,{name:"",enterActiveClass:"animate__fadeIn animate__animated",leaveActiveClass:"animate__fadeOut animate__animated"},{default:V(()=>[(l(!0),i(k,null,x(t.categories,o=>(l(),i("div",{class:h([o.checked?"bg-create mb-5 p-5":"","mb-3 form-check selectable rounded"]),key:o.name},[b(e("input",{class:h([o.checked?"p-3 ":"","form-check-input"]),"onUpdate:modelValue":u=>o.checked=u,onChange:u=>t.searchByCategory(o),type:"checkbox",id:"exampleCheck1"},null,42,X),[[A,o.checked]]),e("label",{class:h([o.checked?"fw-bolder fs-4 ms-2":"","form-check-label"]),for:"exampleCheck1"},f(o.name),3)],2))),128))]),_:1})])]),e("div",H,[e("div",K,[(l(!0),i(k,null,x(t.books,o=>(l(),i("div",{class:"col-md-3",key:o.id},[v(C,{book:o},null,8,["book"])]))),128))]),e("div",Y,[e("div",Z,[e("button",{class:h([t.index<=0?"disabled":"","btn btn-outline-dark me-2"]),disabled:t.index<=0,onClick:s[2]||(s[2]=o=>t.paginate("prev"))},te,10,$),e("button",{class:"btn btn-outline-dark",onClick:s[3]||(s[3]=o=>t.paginate("next"))},oe)]),e("div",se,[e("b",null,f(t.index)+" - "+f(t.endDex+24)+" of "+f(t.totalItems)+" results ",1)])])])])])}const ce=B(j,[["render",ne],["__scopeId","data-v-d01febf1"]]);export{ce as default};
