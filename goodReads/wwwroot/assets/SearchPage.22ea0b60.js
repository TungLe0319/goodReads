import{_ as w,r as S,g as P,w as Q,h as c,B as m,A as a,W as A,P as b,S as u,c as d,a as e,J as D,K as v,L as U,n as p,q as k,Z as x,z as h,t as y,o as l,l as C,m as B,a1 as V,p as E,d as M,s as j}from"./index.08994433.js";const N={props:{},setup(i){const s=S({});return P(()=>{}),Q(()=>{}),{editable:s,books:c(()=>a.sPBooks.sort(n=>n.averageRating-.5)),categories:c(()=>a.categories),test:c(()=>a.categories[0]),index:c(()=>a.startIndex),endDex:c(()=>a.startIndex),totalItems:c(()=>a.totalItems),async searchByQuery(){try{await m.searchByQuery(s.value.term),a.categoryQuery=s.value.term}catch(n){A.error(n)}},async searchByCategory(n){try{let t=a.categories.find(r=>r==n);for(const r of a.categories)r.name!=n.name&&(r.checked=!1);a.categoryQuery=n.name,await m.searchByCategory(a.categoryQuery),a.categories.forEach(function(r,f){r.name==n.name&&(a.categories.splice(f,1),a.categories.unshift(r))})}catch(t){b.error(t,"[searchByCategory]")}},async paginate(n){try{n=="prev"&&(a.startIndex-=24,await m.searchByCategory(a.categoryQuery)),n=="next"&&(a.startIndex+=24,await m.searchByCategory(a.categoryQuery))}catch(t){b.error(t,"[paginate]")}}}},components:{BookCard:u,SearchPageBookCard:u,SearchPageBookCard:u}},_=i=>(E("data-v-323f2cd0"),i=i(),M(),i),R={class:"container mt-3"},T={class:"row justify-content-center sticky-top animate__animated animate__fadeInDown"},z={class:"col-md-6"},L={class:"input-group my-3 rounded-5 elevation-5 sticky-top bg-dark p-1 searchContainer"},O=_(()=>e("button",{class:"btn d-flex justify-content-center",type:"submit"},[e("i",{class:"mdi mdi-magnify fs-2 text-light"})],-1)),q={class:"row"},F=_(()=>e("div",{class:"col-md-12"},[e("h2",null,"Explore")],-1)),G={class:"col-md-3"},J={class:"bg-secondary p-2 elevation-2"},K=_(()=>e("p",{class:"fw-bold fs-4"},"Categories",-1)),W=["onUpdate:modelValue","onChange"],Z={class:"col-md-9"},H={class:"row gy-3"},X={class:"row"},Y={class:"col-md-12 d-flex justify-content-center"},$=["disabled"],ee=_(()=>e("b",null,"Prev",-1)),te=[ee],ae=_(()=>e("b",null,"Next",-1)),oe=[ae],se={class:"col-md-12 text-center mt-3"};function ne(i,s,n,t,r,f){const I=j("SearchPageBookCard");return l(),d("section",R,[e("div",T,[e("div",z,[e("form",{onSubmit:s[1]||(s[1]=D(o=>t.searchByQuery(),["prevent"]))},[e("div",L,[O,v(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.editable.term=o),type:"text",class:"form-control rounded-5 border-0","aria-label":"Username",placeholder:"Search Books By Title..","aria-describedby":"basic-addon1"},null,512),[[U,t.editable.term]])])],32)])]),e("div",q,[F,e("div",G,[e("div",J,[K,p(x,{name:"",leaveActiveClass:"animate__slideOutRight animate__animated"},{default:k(()=>[(l(!0),d(C,null,B(t.categories,o=>(l(),d("div",{class:h([o.checked?"bg-create mb-2 p-2 animate__rotateInUpRight":"","mb-3 form-check selectable rounded animate__fadeIn animate__animated animate__delay-1s"]),key:o.name},[v(e("input",{class:h([o.checked?"p-3 ":"","form-check-input"]),"onUpdate:modelValue":g=>o.checked=g,onChange:g=>t.searchByCategory(o),type:"checkbox",id:"exampleCheck1"},null,42,W),[[V,o.checked]]),e("label",{class:h([o.checked?"fw-bolder fs-4 ms-2 ":"","form-check-label selectable"]),for:"exampleCheck1"},y(o.name),3)],2))),128))]),_:1})])]),e("div",Z,[e("div",H,[p(x,{name:"",enterActiveClass:"animate__fadeIn animate__animated",leaveActiveClass:"animate__fadeOut animate__animated"},{default:k(()=>[(l(!0),d(C,null,B(t.books,o=>(l(),d("div",{class:"col-md-3",key:o.id},[p(I,{book:o},null,8,["book"])]))),128))]),_:1})]),e("div",X,[e("div",Y,[e("button",{class:h([t.index<=0?"disabled":"","btn btn-outline-dark me-2"]),disabled:t.index<=0,onClick:s[2]||(s[2]=o=>t.paginate("prev"))},te,10,$),e("button",{class:"btn btn-outline-dark",onClick:s[3]||(s[3]=o=>t.paginate("next"))},oe)]),e("div",se,[e("b",null,y(t.index)+" - "+y(t.endDex+24)+" of "+y(t.totalItems)+" results ",1)])])])])])}const ce=w(N,[["render",ne],["__scopeId","data-v-323f2cd0"]]);export{ce as default};
