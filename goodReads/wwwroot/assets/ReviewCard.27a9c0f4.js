import{_ as h,D as g,r as y,g as I,w as k,h as l,A as _,P as n,v as x,f as u,o as c,c as r,b as w,a as t,n as b,q as U,t as v,s as B,p as R,d as p,G as C,H as F}from"./index.a945708b.js";const S={props:{review:{type:g,required:!0}},setup(o){const s=y({});return I(()=>{}),k(()=>{}),{editable:s,user:l(()=>_.user),account:l(()=>_.account),following:l(()=>_.following.find(e=>e.followingUserId==o.review.creatorId)),async deleteReview(){try{if(await n.confirm()){let e=o.review.id;await x.deleteReview(e)}}catch(e){n.error(e,"[removeReview]")}},async followByUserId(){try{let e={followingUserId:o.review.creator.id};await u.followByUserId(e),n.success(`Following ${o.review.creator.name}`)}catch(e){n.error(e,"[followingUserId]")}},async unFollowByUserId(){try{let e=this.following.id;await u.unFollowByUserId(e),n.success(`UnFollowed ${o.review.creator.name}`)}catch(e){n.error(e,"[followingUserId]")}}}}},a=o=>(R("data-v-c07a7ccc"),o=o(),p(),o),A={class:"card bg-light text-dark my-3 square position-relative"},D={key:0,class:"recommended"},q=a(()=>t("img",{src:C,alt:"",width:"40"},null,-1)),N=[q],P={class:"d-flex align-items-center justify-content-between px-5 pt-3 pb-2"},V={class:"d-flex align-items-center"},E={role:"accountImg",class:""},j=["src"],G={role:"name "},H={class:"ms-3 fs-5 text-decoration-underline text-dark"},L={role:"createdAt ",class:"d-flex align-items-center"},M=a(()=>t("i",{class:"mdi mdi-check"}," Follow",-1)),z=[M],J=a(()=>t("i",{class:"mdi mdi-close"}," UnFollow",-1)),K=[J],O={class:"text-dark lighten-60"},Q=a(()=>t("img",{src:F,alt:"delete Icon",width:"40"},null,-1)),T=[Q],W={class:"px-4 text-dark"},X={key:0},Y=a(()=>t("b",{class:"fs-5"}," Recommend ",-1)),Z=[Y],$={class:"fs-5"};function ee(o,s,e,i,te,oe){var m;const f=B("router-link");return c(),r("div",A,[e.review.recommend?(c(),r("div",D,N)):w("",!0),t("div",P,[t("div",V,[b(f,{to:{name:"Profile",params:{id:(m=e.review.creator)==null?void 0:m.id}}},{default:U(()=>[t("div",E,[t("img",{src:e.review.creator.picture,alt:"",class:"profileImg img-fluid rounded-circle elevation-5"},null,8,j)])]),_:1},8,["to"]),t("div",G,[t("p",H,v(e.review.creator.name.split("@")[0]),1)])]),t("div",L,[i.user.isAuthenticated&&e.review.creator.id!=i.account.id&&!i.following?(c(),r("button",{key:0,onClick:s[0]||(s[0]=d=>i.followByUserId()),class:"btn p-0 me-3"},z)):e.review.creator.id==i.account.id?(c(),r("button",{key:1,onClick:s[1]||(s[1]=d=>i.unFollowByUserId()),class:"btn p-0 me-3 text-danger"})):(c(),r("button",{key:2,onClick:s[2]||(s[2]=d=>i.unFollowByUserId()),class:"btn p-0 me-3 text-danger"},K)),t("p",O,v(new Date(e.review.createdAt).toLocaleString()),1),e.review.creator.id==i.account.id?(c(),r("button",{key:3,onClick:s[3]||(s[3]=d=>i.deleteReview()),class:"btn ms-3",title:"Delete Review"},T)):w("",!0)])]),t("div",W,[e.review.recommend?(c(),r("div",X,Z)):w("",!0),t("div",null,[t("p",$,v(e.review.body),1)])])])}const ie=h(S,[["render",ee],["__scopeId","data-v-c07a7ccc"]]);export{ie as R};
