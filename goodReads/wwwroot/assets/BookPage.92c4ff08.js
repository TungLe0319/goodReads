import{_ as u,r as p,g as w,w as y,h as _,A as t,v as W,P as m,x as L,y as O,o as s,c as a,t as c,a as e,z as A,l as g,m as f,p as j,d as N,B as T,C as $,S as E,D as Q,b as P,e as v,n as D,s as z}from"./index.4ef991fb.js";const U={props:{},setup(i){const n=p({});return w(()=>{}),y(()=>{}),{editable:n,book:_(()=>t.activeBook),async createReview(){try{n.bookId=t.activeBook.bookId,await W.createReview(n.value)}catch(r){m.error(r,"[createReview]")}}}}};function F(i,n,r,o,l,B){return null}const M=u(U,[["render",F]]);const q={props:{},setup(i){const n=p({});w(()=>{}),y(()=>{});const r=L();return{editable:n,book:_(()=>t.activeBook),bookShelves:_(()=>t.accountBookshelves),shelf:_(()=>t.activeBookShelf),copyToClipBoard(){navigator.clipboard.writeText(r.fullPath),m.toast("Copied To ClipBoard")},async makeActiveShelf(o){t.activeBookShelf=o},async addToBookShelf(o){try{if(t.activeBookShelf.hasActiveBook){m.toast("already apart of this list");return}let l={bookId:t.activeBook.id,bookShelfId:t.activeBookShelf.id};await O.addToBookShelf(l,o),m.success(`${t.activeBook.title} added to your ${t.activeBookShelf.type} shelf`)}catch(l){m.error(l,"[addToBookShelf]")}}}}},h=i=>(j("data-v-031c47b3"),i=i(),N(),i),G={class:"card p-2 elevation-4 border-0"},H={key:0,class:"ms-3 text-danger text-decoration-underline"},J={key:1},K=h(()=>e("p",{class:"ms-3"},"Available for a limited time",-1)),X={class:"card-body d-flex flex-column justify-content-center"},Y={class:"mb-3"},Z=h(()=>e("label",{for:"",class:"form-label"},"Add to BookShelf",-1)),ee={class:"dropdown open"},oe={class:"btn btn-outline-dark dropdown-toggle",type:"button",id:"triggerId","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},te=["disabled"],se={key:1},ae={class:"dropdown-menu","aria-labelledby":"triggerId"},ie={class:"dropdown-item btn selectable"},ne=["onClick"],ce=h(()=>e("button",{class:"btn btn-outline-dark mt-2","data-bs-toggle":"modal","data-bs-target":"#createReview"}," Review ",-1)),re={class:"mt-3"},le=h(()=>e("small",null,"Share with your network :",-1)),de={class:"d-flex gap-2 justify-content-center mt-2"},_e=h(()=>e("a",{target:"_blank",OnClick:"window.open(this.href,'targetWindow','toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250'); return false;",href:"https://www.twitter.com"},[e("img",{src:"/src\\assets\\img\\ShareIcons\\twitter.png",alt:"",width:"30"})],-1)),he=h(()=>e("a",{href:"mailto:"},[e("img",{src:"/src\\assets\\img\\ShareIcons\\email.png",alt:"",width:"30"})],-1)),be=h(()=>e("a",{target:"_blank",OnClick:"window.open(this.href,'targetWindow','toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250'); return false;",href:"https://www.facebook.com"},[e("img",{src:"/src\\assets\\img\\ShareIcons\\facebook.png",alt:"",width:"30"})],-1)),ke=h(()=>e("a",{target:"_blank",OnClick:"window.open(this.href,'targetWindow','toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250'); return false;",href:"http://pinterest.com"},[e("img",{src:"/src\\assets\\img\\ShareIcons\\pinterest.png",alt:"",width:"30"})],-1));function me(i,n,r,o,l,B){return s(),a("div",G,[o.book.saleAbility=="Unavailable"?(s(),a("h3",H,c(o.book.saleAbility),1)):(s(),a("h3",J,c(o.book.saleAbility),1)),K,e("div",X,[e("div",null,[e("div",Y,[Z,e("div",ee,[e("button",oe,[o.shelf?(s(),a("span",{key:0,class:A(o.shelf.hasActiveBook?"text-warning noSelect":"text-primary"),type:"button",disabled:o.shelf.hasActiveBook},c(o.shelf.type),11,te)):(s(),a("span",se,c("pick a shelf")))]),e("div",ae,[(s(!0),a(g,null,f(o.bookShelves,k=>(s(),a("button",ie,[e("span",{class:A(k.hasActiveBook?"text-warning noSelect":"text-primary"),onClick:S=>o.makeActiveShelf(k)},c(k.type),11,ne)]))),256))])])]),e("button",{class:"btn btn-outline-dark",type:"button",onClick:n[0]||(n[0]=k=>o.addToBookShelf(o.book))}," Save To BookShelf ")]),ce,e("div",re,[le,e("div",de,[_e,he,e("img",{class:"link",src:"/src\\assets\\img\\ShareIcons\\link.png",alt:"",width:"30",onClick:n[1]||(n[1]=k=>o.copyToClipBoard())}),be,ke])])])])}const ve=u(q,[["render",me],["__scopeId","data-v-031c47b3"]]);const ge={setup(){w(()=>{i()}),y(()=>{t.activeBook||$.push("/")});async function i(){try{await T.getBookReviews(r.params.id)}catch(o){m.error(o,"[getBookReviews]")}}const n=p({}),r=L();return{editable:n,route:r,book:_(()=>t.activeBook),extraDetails:_(()=>t.extraDetails),bookShelves:_(()=>t.accountBookshelves),reviews:_(()=>t.reviews),async addToBookShelf(){},async searchByCategory(o){try{$.push("/search"),t.categoryQuery=o,await T.searchByCategory(t.categoryQuery)}catch(l){console.error("[searchByCategory]",l),m.error(l)}}}},components:{BookCard:E,CreateReview:M,ReviewCard:Q,AddToBookShelf:ve}},b=i=>(j("data-v-3cfaa0fc"),i=i(),N(),i),fe={key:0,class:"container mt-4"},ue={class:"row bookRow"},pe={class:"col-md-3 text-center animate__animated animate__fadeInLeft"},we=["src"],ye=["src"],Be={class:"mt-2"},Se=["href"],xe=b(()=>e("i",{class:"mdi mdi-book fs-5"},null,-1)),Ce=v(" Read Preview"),Ie=[xe,Ce],Re={class:""},Ae=["src"],Te={class:"col-md-6 animate__animated animate__fadeInUp"},$e={class:"bookTitle elevation-5 bg-create p-2 px-3"},Pe={class:"d-flex"},De=["onClick","title"],ze=b(()=>e("div",{class:"border-bottom border-2 my-3 border-muted"},null,-1)),Le={class:"lead text-dark"},je={class:"text-dark"},Ne=b(()=>e("i",{class:"mdi mdi-calendar fs-4"},null,-1)),Ve=v(),We=b(()=>e("b",null," Release Date -",-1)),Oe={class:""},Ee={class:"d-flex align-items-center"},Qe=b(()=>e("b",{class:"me-2 mb-3 mt-3"},"Categories -",-1)),Ue=["onClick"],Fe=b(()=>e("b",null,"Language -",-1)),Me=b(()=>e("b",null," Page Count -",-1)),qe={class:"col-md-3 animate__animated animate__fadeInRight"},Ge={class:"",id:"reviews"},He={class:"row"},Je=b(()=>e("div",{class:"col-md-12 d-flex justify-content-between my-3"},[e("h3",{class:"text-dark"},"Community Reviews"),e("button",{"data-bs-toggle":"modal","data-bs-target":"#createReview",class:"btn bg-create text-dark fw-bold d-flex align-items-center justify-content-center"},[e("i",{class:"mdi mdi-comment fs-4 text-dark me-2"}),v(" Write a Review ")])],-1));function Ke(i,n,r,o,l,B){var x,C,I,R;const k=z("AddToBookShelf"),S=z("ReviewCard");return o.book?(s(),a("div",fe,[e("div",ue,[e("div",pe,[(x=o.book)!=null&&x.largeImg?(s(),a("img",{key:0,src:(C=o.book)==null?void 0:C.largeImg,alt:"",class:"img-fluid rounded elevation-5",width:"400",height:"600"},null,8,we)):(s(),a("img",{key:1,src:(I=o.book)==null?void 0:I.img,alt:"",class:"img-fluid rounded elevation-5",width:"400",height:"600"},null,8,ye)),e("div",Be,[e("a",{href:o.book.previewLink,target:"_blank",class:"text-danger previewText"},Ie,8,Se)]),e("div",Re,[o.book?(s(),a("img",{key:0,src:(R=o.book)==null?void 0:R.img,alt:"",class:"img-fluid smallerImg rounded elevation-5 mt-5",width:"100",height:"200"},null,8,Ae)):P("",!0)])]),e("div",Te,[e("h1",$e,c(o.book.title),1),e("div",Pe,[(s(!0),a(g,null,f(o.book.authors,d=>(s(),a("b",{class:"authors mx-2 text-dark selectable p-1 rounded",onClick:V=>o.searchByCategory(d),title:o.book.authors},c(d),9,De))),256))]),ze,e("div",null,[e("p",Le,c(o.book.description),1)]),e("div",je,[e("p",null,[Ne,Ve,We,v(" "+c(new Date(o.book.publishedDate).toLocaleDateString()),1)]),e("b",Oe,"Publisher - "+c(o.book.publisher),1),e("div",Ee,[Qe,(s(!0),a(g,null,f(o.book.categories,d=>(s(),a("button",{class:"btn btn-outline-dark my-3 text-dark p-1 rounded-pill px-2 mx-2",onClick:V=>o.searchByCategory(d)},c(d),9,Ue))),256))]),e("p",null,[Fe,v(" "+c(o.book.language),1)]),e("p",null,[Me,v(" "+c(o.book.pageCount),1)])])]),e("div",qe,[D(k)])]),e("section",Ge,[e("div",He,[Je,(s(!0),a(g,null,f(o.reviews,d=>(s(),a("div",{class:"col-md-12",key:d.id},[D(S,{review:d},null,8,["review"])]))),128))])])])):P("",!0)}const Ye=u(ge,[["render",Ke],["__scopeId","data-v-3cfaa0fc"]]);export{Ye as default};
